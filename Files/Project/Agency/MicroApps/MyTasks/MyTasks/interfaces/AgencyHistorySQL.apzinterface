{"typeclass":"INTERFACE","name":"AgencyHistorySQL","type":"INTERFACE","childs":[{"typeclass":"REQUESTDATAMODEL","name":"AppzillonRequest","type":"REQUESTDATAMODEL","childs":[{"typeclass":"ELEMENT","name":"stageId","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"}],"relationtype":"1:1","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"},{"typeclass":"RESPONSEDATAMODEL","name":"AppzillonResponse","type":"RESPONSEDATAMODEL","childs":[{"typeclass":"NODE","name":"Records","type":"NODE","childs":[{"typeclass":"ELEMENT","name":"srcdata","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"STAGE_ID","type":"ELEMENT","externalname":"STAGE_ID","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","title":"STAGE_ID","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"subproduct","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"product","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"START_TS","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"R","paddingcharacter":"SPACE","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"STATUS","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"workflow_ref_no","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"}],"relationtype":"1:N","externalname":"Records","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"}],"relationtype":"1:1","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"},{"typeclass":"FAULTDATAMODEL","name":"AppzillonFault","type":"FAULTDATAMODEL","relationtype":"1:1","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"}],"servicetype":"SQLSERVICE","reqcontenttype":"JSON","rescontenttype":"JSON","dateformat":"dd/MM/yyyy","datetimeformat":"dd/MM/yyyy hh:mm:ss","offlinesupport":"N","sslrequired":"N","soapignorenamespaces":"N","smsallowed":"N","ussdallowed":"N","twitterallowed":"N","facebookallowed":"N","transcationpayload":"Y","logpayload":"NONE","servicetransactionlogging":"Y","servicepayloadlogging":"NONE","ejbauthenticationreqd":"N","jmstype":"Text","timeout":"90","isosignonrequired":"N","isonewlinerequired":"N","isoautogenratefld11":"N","isofield11length":"6","isoreqbinarybitmap":"N","isorespbinarybitmap":"N","isokeepalive":"N","ldapauthenticationreq":"N","ldapoperationadd":"N","ldapoperationdelete":"N","ldapoperationsearch":"N","ldapoperationupdate":"N","reporttype":"JASPER","reportrestype":"ENCODED","reportpasswordreq":"Y","sessionrequired":"N","captcharequired":"N","jndiname":"AppzillonServerONB","dbqueryallowed":"N","dbnewallowed":"N","dbmodifyallowed":"N","dbdeleteallowed":"N","dbauthorizeallowed":"N","dbautoauth":"N","dbdeleteresponsetype":"STATUS","dbauthorizeresponsetype":"STATUS","dbqueryresponsetype":"FULL","dbnewresponsetype":"STATUS","dbmodifyresponsetype":"STATUS","sqlquery":"select workflow_ref_no,STATUS, stage_id, START_TS START_TS1,DATE_FORMAT(START_TS, '%d/%m/%Y') START_TS, product, subproduct, srcdata from\n(\nSELECT wf.workflow_ref_no,'PENDING APPROVAL' STATUS,dt.stage_id,wf.start_ts START_TS,cs.product,cs.subproduct, '' srcdata\n FROM tb_astp_workflow_txn_master wf,tb_astp_workflow_txn_detail dt,tb_dbmi_customer_master cs\n where dt.STAGE_ID= :stageId and dt.STATUS = 'IN-PROGRESS' and cs.product != 'Service Request'\n and dt.WORKFLOW_REF_NO=wf.WORKFLOW_REF_NO\n and dt.WORKFLOW_REF_NO = cs.ref_no\n and wf.WORKFLOW_REF_NO = cs.ref_no\n UNION\n \nSELECT wf.workflow_ref_no,'INITIATED' STATUS,dt.stage_id,wf.start_ts START_TS,cs.product,cs.subproduct, '' srcdata\n FROM tb_astp_workflow_txn_master wf,tb_astp_workflow_txn_detail dt,tb_dbmi_customer_master cs\n where dt.STAGE_ID='INPUT' and dt.STATUS = 'IN-PROGRESS' and cs.product != 'Service Request'\n and dt.WORKFLOW_REF_NO=wf.WORKFLOW_REF_NO\n and dt.WORKFLOW_REF_NO = cs.ref_no\n and wf.WORKFLOW_REF_NO = cs.ref_no\n \n UNION\n \nSELECT wf.workflow_ref_no,'REJECTED' STATUS,dt.stage_id,wf.start_ts START_TS,cs.product,cs.subproduct, '' srcdata\n FROM tb_astp_workflow_txn_master wf,tb_astp_workflow_txn_detail dt,tb_dbmi_customer_master cs\n where dt.STAGE_ID='INPUT' and dt.STATUS = 'REJECTED' and cs.product != 'Service Request'\n and dt.WORKFLOW_REF_NO=wf.WORKFLOW_REF_NO\n and dt.WORKFLOW_REF_NO = cs.ref_no\n and wf.WORKFLOW_REF_NO = cs.ref_no\nUNION\n \nSELECT wf.workflow_ref_no,'APPROVED' STATUS,dt.stage_id,wf.start_ts START_TS,cs.product,cs.subproduct, '' srcdata\n FROM tb_astp_workflow_txn_master wf,tb_astp_workflow_txn_detail dt,tb_dbmi_customer_master cs\n where dt.STAGE_ID='INPUT' and dt.STATUS = 'COMPLETED' and cs.product != 'Service Request'\n and dt.WORKFLOW_REF_NO=wf.WORKFLOW_REF_NO\n and dt.WORKFLOW_REF_NO = cs.ref_no\n and wf.WORKFLOW_REF_NO = cs.ref_no\nUNION\n\nSELECT refno WORKFLOW_REF_NO ,'PENDING APPROVAL' STATUS, 'RMAPPROVE' stage_id, initdate START_TS, category product, subcategory subproduct, srcdata\nFROM tb_dbmi_customer_servicerequest where status = 'Pending'\n)\nAS Q\nORDER BY START_TS1 DESC;"}