{"typeclass":"INTERFACE","name":"AgencyHistorySQL","type":"INTERFACE","childs":[{"typeclass":"REQUESTDATAMODEL","name":"AppzillonRequest","type":"REQUESTDATAMODEL","relationtype":"1:1","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"},{"typeclass":"RESPONSEDATAMODEL","name":"AppzillonResponse","type":"RESPONSEDATAMODEL","childs":[{"typeclass":"ELEMENT","name":"WORKFLOW_REF_NO","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"STATUS","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"START_TS","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"product","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"subproduct","type":"ELEMENT","externalname":"NewElement","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"},{"typeclass":"ELEMENT","name":"STAGE_ID","type":"ELEMENT","externalname":"STAGE_ID","validationtype":"STRING","lengthtype":"F","paddingtype":"N","cents":"N","title":"STAGE_ID","datatype":"STRING","mandatory":"N","keycolumn":"N","allowmodification":"Y","filterrequired":"Y","filtertype":"NONE","arrays":"N","autogenerate":"N","translaterqd":"N"}],"relationtype":"1:N","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"},{"typeclass":"FAULTDATAMODEL","name":"AppzillonFault","type":"FAULTDATAMODEL","relationtype":"1:1","allrecords":"Y","pkgen_strategy":"PKGEN_STRATEGY_NONE","portion":"BODY"}],"servicetype":"SQLSERVICE","reqcontenttype":"JSON","rescontenttype":"JSON","offlinesupport":"N","sslrequired":"N","soapignorenamespaces":"N","smsallowed":"N","ussdallowed":"N","twitterallowed":"N","facebookallowed":"N","transcationpayload":"Y","logpayload":"NONE","servicetransactionlogging":"Y","servicepayloadlogging":"NONE","ejbauthenticationreqd":"N","jmstype":"Text","timeout":"90","isosignonrequired":"N","isonewlinerequired":"N","isoautogenratefld11":"N","isofield11length":"6","isoreqbinarybitmap":"N","isorespbinarybitmap":"N","isokeepalive":"N","ldapauthenticationreq":"N","ldapoperationadd":"N","ldapoperationdelete":"N","ldapoperationsearch":"N","ldapoperationupdate":"N","reporttype":"JASPER","reportrestype":"ENCODED","reportpasswordreq":"Y","sessionrequired":"N","captcharequired":"N","jndiname":"AppzillonServerONB","dbqueryallowed":"N","dbnewallowed":"N","dbmodifyallowed":"N","dbdeleteallowed":"N","dbauthorizeallowed":"N","dbautoauth":"N","dbdeleteresponsetype":"STATUS","dbauthorizeresponsetype":"STATUS","dbqueryresponsetype":"FULL","dbnewresponsetype":"STATUS","dbmodifyresponsetype":"STATUS","sqlquery":"SELECT wf.workflow_ref_no,\ncase when dt.STAGE_ID = 'RMAPPROVE' then 'SUBMITTED'\nwhen dt.STAGE_ID = 'MANAGERAPPROVE' then 'APPROVED'\nelse 'IN-PROGRESS'\nend as STATUS,\ndt.stage_id,wf.start_ts,cs.product,cs.subproduct\n FROM tb_astp_workflow_txn_master wf,tb_astp_workflow_txn_detail dt,tb_dbmi_customer_master cs\n where dt.WORKFLOW_REF_NO=wf.WORKFLOW_REF_NO\n and dt.WORKFLOW_REF_NO = cs.ref_no\n and wf.WORKFLOW_REF_NO = cs.ref_no\n and cs.email = \"\"\n and cs.mobile_no = \"\"\n and dt.WORKFLOW_SEQ_NO=(select max(dtm.WORKFLOW_SEQ_NO) \n from tb_astp_workflow_txn_detail dtm\n where dt.WORKFLOW_REF_NO=dtm.WORKFLOW_REF_NO)\n order by wf.start_ts DESC;"}